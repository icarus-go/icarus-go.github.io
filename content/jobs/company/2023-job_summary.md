---
title: 2023 述职报告
date: 2023-03-09T08:04:04.000Z
draft: true
tags:
  - Jobs
categories:
  - Work
series:
  - 2022年下半年总结
date updated: 2023-03-11 23:17
---

# 自我介绍



| 姓名  | 职业     | From | 喜欢的方向    | Base |
| --- | ------ | ---- | -------- | ---- |
| 蔡庆深 | Gopher | 广东汕头 | 分布式相关 | 武汉 |

- 过往工作经历

> [广东汕头] · 阿米巴 电商类
> [广东深圳] · 腾云悦智 云服务类
> [湖北武汉] · 光合新知 .

# 半年度总结

## 有价值的部分

#### 年度总指标
| 指标类型          | 指标数值 |
| ------------- | ---- |
| 需求总数 | 112 |
| 总需求数（存在后端的需求） | 72 |
| 个人负责的完成需求数         | 26   |
| P0 需求 | 9    |
| P1 需求 | 10   |
| P2 需求 | 7    |
- 我个人负责的需求数量占总的后端的数量的36%，属于一个较少的状态，但是个人认为，这可能和我的负责的需求类型有一个比较大的关系。
- 主要负责的是一些重构、组件类的工作、所以相对于需求数量这个维度上，我是有些不足的。
- 接下来就从需求类型分布，以及从故事点的角度上来看一下我负责的需求的内容。
- 还有一个比较主观的原因是，在早期有一些需求也是属于重构和优化的工作内容，是没有在飞书上面进行记录以及评估故事点的。
#### 按照故事点分布
| 故事点点数 | 需求数量 |
| -- | -- |
| 0 | 5 |
| 0.5 | 8 | 
| 1 | 2 |
| 1.5 | 3 |
| 2 | 4 |
| 2.5 | 1 | 
| 3 | 2 | 

```chart
    type: pie
    labels: [0故事点,0.5故事点,1故事点,1.5故事点,2故事点,2.5故事点,3故事点]
    series:
      - title: 本周新增项目比例
        data: [5,8,2,3,4,1,2]
    tension: 0.2
    width: 50%
    labelColors: true
    fill: false
    beginAtZero: false
```

- 在故事点分布这块，我主要负责的是一些相对较大的故事点的后端需求。
- 3故事点的任务
	- 一个是 暖暖的 H5，一个心理咨询的页面，囊括了一系列的咨询流程和页面展示。
	- 一个则是重构的内容，一个关于 CRM 的转介绍的原接口重构
- 2.5 和 2故事点的任务（例如）
	-  telesale 网关
	- 版本更新提醒全员
	- 渠道活码重构
- 上述的重构需求都是占我个人工作量的主要工作量的。

## 体现效率的部分
（迭代效率、服务稳定等）

#### 需求信息
| 负责需求数 | 如期交付数 | 逾期交付数 |
| ----- | ----- | ----- |
| 26 | 24 | 2 | 

##### 关于逾期
- 逾期的需求列表
	- telesale 网关
	- 薪酬
- 原因
	- 当时刚好是疫情相关，所以在状态上出现了一个比较大的落差
	- 另外一个原因则是，对网关的调研不够充分，没有合理的审视，等到实际上在做的时候，才发现对 gin 的源码不够透彻，对路由的映射是理解不够充分的，所以算是边做边学习，哪怕加班的情况下，还是出现了逾期的情况。
- 逾期的需求占8.3%，总体上来说，大部分需求我都做到了如期的交付。

| 总 bug 数 | 线上 bug 总数 | 个人迭代内 bug 总数  |  个人线上 bug 总数 | P0 bug 总数 | 个人 P0 线上 BUG 总数 | P1 线上 BUG 总数 | 个人 P1 线上  BUG 总数 | P2 线上 BUG 总数 | P2 线上 BUG |
| -- | -- | -- | --- | --- |  ---- | -- | -- | -- | --- |
| 339 | 65 |  58 | 19 | 25 | 5 | 14  | 7 | 26 | 7 |
- 迭代内
	- 迭代内的 bug 占到了总数的 0.17%
- 线上
	- P0 BUG 占到了P1总数的 20%
	- P1 BUG 占到了P1总数的 50%
	- P2 BUG 占到了P2 总数的 26%
- 总结
	- 主观分析 P0 : 5 个、P1 : 7 个、P2 : 7 个 的原因
		- 前期在需求技术评估的时候，对复杂度以及技术方案个人没有做到足够好的评估。
			- 针对这个问题，我们提出了像在需求接到之后输出技术方案进行评估，对重构需求补充调研环节，对重构的点，进行一个一个的评估，减少出错和忽略的可能。
		- 对复杂的需求的测试用例，也出的不够完善，流程也不够完整，后面也是依赖我们的测试同学，将用例的流程补上，bug 数量才逐渐的降低，主要 bug 出现的时间还是在我们的早期。
		- 再根据，开发同学出的分析文档和测试用例进行碰撞，对比测试的点和技术的文档当中有无差异，对流程的理解是不是对的，最后再重合开发测试，进而达到了减少 bug 的目的。
		- bug 无法避免，我们的问题还是有很多的，我们也还在努力的道路上。
	- bug 总数占到了bug 数的 32%，这个数量还是有些多的，我个人会尽可能的在减少 bug 数量的道路上更好的要求自己。

## 半年度复盘
### 学习成长
- 个人成长（all）
	- 技术能力
	- 网络协议
		- 主要是基于网关去对网络协议做了一个具体的了解吧，从物理层，链路层再到应用层，再结合了实际生产的应用，做了一个实际的应用场景。
		- gRPC
			- 流，多路复用等
		- HTTP/1.0, HTTP/1.1，HTTP/2.0，
			- 握手，回收，TLS ，HTTP/2.0 和gRPC 的区别，和 WebSocket 的关系
		- TCP/IP
			- 为什么一定要 4 次握手跟 3 次挥手
		- 网络协议本身就是开发的基础，了解之后能对很多中间价选用什么样的协议有一个更深刻的了解。
		- gin
					- 是如何匹配携带路径变量的路由的
	- 技术研究
	- 链路追踪
		- 链路追踪的定义
		- 如何落地链路追踪
		- 落地链路追踪的好处
		- 电销当前面临的问题
			- 接口调用上下文不清晰
			- 随着微服务化，很难去定位到一个业务的调用链进而排查是哪个节点的功能出现异常
		- [Docs (feishu.cn)](https://guanghe.feishu.cn/docx/GR4YdL88ootYSXxz4DFcow6EnUb)
#### 上半年工作规划 Review
##### Kratos落地
- 原规划内容
	-   目前 接口的落地程度仅为 36%，下半年预计是 60%
	    -   现状
		- 坐席
		- 组织架构
		- 订单
		- 转介绍
	    -   未来（个人目标）
	        -   坐席相关维度的统计
	        -   申诉单
	- 实际完成情况
		- `/miniprogram` 小程序相关接口 `90%`
		- 所有新开发的接口都是在 kratos 的框架下进行开发
		- 个人觉得该项任务应该算是如期完成的。
##### 网关
- 原定规划内容
	- 背景
		- 现在要添加一个接口，是需要在我们的`init.go`文件当中，加一个 Kratos 服务的接口的注册代码，然后在将代码发布到指定环境，接口才会生效。
	- 问题 and 风险
		- 无法强制要求注释和一些约束，有可能遗漏。
		- 无法重载生效配置，一旦有新增或者删除，只能通过代码的形式来进行调整，每次都需要重复发布主服务 
		- 无法禁用部分接口，必须通过调整代码来实现
		- 无法调整实际转发服务，只能通过调整代码实现
	- 预期效果
		-   需要具备以下几个能力
		    -  支持重载接口配置
		    -   支持调整转发服务路由
		    -   支持配置服务
		    -   支持配置接口
		    -   强制约束接口注释
		    - 
- 实际完成内容
	- 在不影响当前其他业务接口的情况下，做到了尽可能的配置简单，以及之前所约定的 90%的目标。
	- 其他的一些目标，在尽可能的不过分设计的情况下，进行了一些取舍，或者转变其他需求的形式都做到了。
		- ![[Pasted image 20230312025359.png]]

## 重点项目

### 项目A—Telesale 网关（eg）
#### 目的
- 支持重载接口配置
- 支持调整转发服务路由
- 支持配置服务
- 支持配置接口
	- 权限
	- 白名单
#### 工作总结
- **有价值的部分**
	- 生产环境共计 189 个接口，测试环境新增23 个，已在生产环境稳定2 个月左右的时间。
	- 通过契约配置来解析具体接口进行服务的转发。
	- 并且对业务零侵入，零影响。
	- 接入之前和接入之后，对接口性能几乎为 0.
- **体现效率的部分**
	- 在之前每次发布接口都需要在 telesale 项目中进行代码配置，这会导致几个问题
		- 分支合并代码可能出现冲突，解决需要时间
		- 联调过程中，开发如果配置错误，如白名单，权限要求错误的情况下， 每次都需要重新进行配置，测试环境 k8s的发布效率不高，telesale的构建至少需要 10m.
		- 目前已经发布2 个月，使用该接口开发共计 4 个迭代，约节省 40m~100m 的开发时间成本，也极大降低了生产环境因为配置错误出 bug 的可能。
#### 工作复盘

发现的问题 & To do

- **个人部分**

- 发现目前 CRM 反馈部分接口性能较差，无法跟踪到具体接口的性能，准备接入链路追踪，以及飞书卡片报警，该进程目前在等待准生产环境迁移，等待准生产环境无更多问题的时候来进行一个接入，调研阶段已经基本完毕。

- TODO：配套的链路追踪方案 (gin & kratos)
	- [‌​﻿⁢‌⁡⁡⁣​﻿⁢‬​⁢⁡‍‌⁣‍​⁡​⁡​‌‬⁤⁣‬​﻿⁡⁣⁣⁢‬‌⁡⁡‬⁡‌​⁢﻿‌⁢​⁣⁤链路追踪 - 飞书云文档 (feishu.cn)](https://guanghe.feishu.cn/docx/GR4YdL88ootYSXxz4DFcow6EnUb)
### 项目B—暖暖素材库（eg）
#### 目的
- 通过一个相对温馨的画面，对那些压力比较大的学生进行舒缓的作用，通过音频+客服人工协助的形式，起到对孩子心理问题进行疏导，并且起到提升洋葱形象，正面化洋葱价值观的 H5 页面
#### 成果
- 可视化网站地址 [暖暖加油站 (yangcong345.com)](https://telec.yangcong345.com/heatingSupport.html)
- 该项目上线共计 1 个多月，素材列表接口调用共计1,583次，单次接口耗时 17ms, 累计评论数 103 条，上线后无出现线上 bug 并且业务方反馈良好。
- 在开发角度，提供了一个稳定的，完善的 UI 界面稳定的进行了交付，使业务方能够如期的开展工作。
- 在效率角度，我们是如期并且稳定的交付了该需求。

## 下半年工作规划

- 下半年工作规划
	- 从稳定角度出发
		- 目标
			- 降低线上 bug 出现次数，P1、P2 总次数不超过 10 个，P0 不超过5个。
		- 怎么做到
			- 重构类需求
				- 逻辑
					- 通过核对历史的测试用例，如果没有则想办法补上，核对后按照该用例冒烟测试。
				- 重构代码
					- 对于历史有问题或者不符合当前规范的代码，使用提出，团队 review 的形式来进行审视，避免个人主观性整改，造成需求与实际应用要求不相符。
					- 所有废弃接口，都要做到历史近期以来无调用次数才可以下线，如果出现调用次数要找到源，并且告知接口即将不可用才可下线。
					- [输出技术需求大盘计划](https://guanghe.feishu.cn/docx/Q1l1dPBnuosGCCx2n9NcP2RLnbb)
					- [‌⁤‬‬⁢​‬﻿‌⁡⁢⁤​​​⁡⁢​⁡⁡⁣⁤⁤‌⁢⁣‌输出技术重构代码点](https://guanghe.feishu.cn/docx/WWOpdsHTro51RDxhVaTc4mT8nRc)
			- 业务类需求
				- 核对用例，确保理解一致。
	- 从技术研究角度出发
		- 链路追踪
			- 将链路追踪小组 TODO —— 链路追踪接入报警纳入开发阶段。
			- 等准生产环境切换完毕之后，对飞书的 日志平台进行调研。
			- 要求能够做到下列几点
				- 完整的接入库
					- 支持 zap、logrus、等其他的日志库接入
				- 对业务代码零侵入，只需要在 日志平台进行配置
					- 可以做到日志指纹识别（对重复的日志进行屏蔽）
				- 有完善的参数输出
				- 可以定位到接口的上下文，如调用链等。
- 学习成长规划
	- 前端学习计划
		- 能够使用 vue2，vue3 完成 CRM 普通功能的前端开发。
		- 对前端的工程量以及难度有一个足够的了解

